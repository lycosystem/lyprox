<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>patients.models.Dataset</title>
    <meta name="generator" content="pydoctor 22.5.1"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          LyProX <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div class="hint" id="search-help-box">
          <p class="rst-last">
      
            Search bar offers the following options:
            <ul>   
                <li>
                  <strong>Term presence.</strong> The below example searches for documents that 
                    must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                </li> 

                <li>
                  <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                </li> 

                <li>
                  <strong>Search in specific fields.</strong> The following search matches all objects 
                  in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>

                  <p>
                    Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                    Last two fields are only applicable if "search in docstrings" is enabled.
                  </p>
                </li>

                <li>
                  <strong>Fuzzy matches.</strong> The following search matches all documents 
                  that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                </li>
            </ul>

          </p>
        </div>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 8px;">
          <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="patients.models.Dataset.html" class="internal-link" title="This class"><wbr></wbr>Dataset</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__str__" class="internal-link" title="patients.models.Dataset.__str__">__str__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#delete" class="internal-link" title="patients.models.Dataset.delete">delete</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#export_db_to_csv" class="internal-link" title="patients.models.Dataset.export_db_to_csv">export<wbr></wbr>_db<wbr></wbr>_to<wbr></wbr>_csv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_pandas_from_csv" class="internal-link" title="patients.models.Dataset.get_pandas_from_csv">get<wbr></wbr>_pandas<wbr></wbr>_from<wbr></wbr>_csv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_pandas_from_db" class="internal-link" title="patients.models.Dataset.get_pandas_from_db">get<wbr></wbr>_pandas<wbr></wbr>_from<wbr></wbr>_db</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#import_upload_csv_to_db" class="internal-link" title="patients.models.Dataset.import_upload_csv_to_db">import<wbr></wbr>_upload<wbr></wbr>_csv<wbr></wbr>_to<wbr></wbr>_db</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#lock" class="internal-link" title="patients.models.Dataset.lock">lock</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#save" class="internal-link" title="patients.models.Dataset.save">save</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#unlock" class="internal-link" title="patients.models.Dataset.unlock">unlock</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#validate_unique" class="internal-link" title="patients.models.Dataset.validate_unique">validate<wbr></wbr>_unique</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_validate_unique" class="internal-link" title="patients.models.Dataset._validate_unique">_validate<wbr></wbr>_unique</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#create_date" class="internal-link" title="patients.models.Dataset.create_date">create<wbr></wbr>_date</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#description" class="internal-link" title="patients.models.Dataset.description">description</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#export_csv" class="internal-link" title="patients.models.Dataset.export_csv">export<wbr></wbr>_csv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#institution" class="internal-link" title="patients.models.Dataset.institution">institution</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#is_public" class="internal-link" title="patients.models.Dataset.is_public">is<wbr></wbr>_public</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#name" class="internal-link" title="patients.models.Dataset.name">name</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#repo_data_url" class="internal-link" title="patients.models.Dataset.repo_data_url">repo<wbr></wbr>_data<wbr></wbr>_url</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#repo_provider" class="internal-link" title="patients.models.Dataset.repo_provider">repo<wbr></wbr>_provider</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#upload_csv" class="internal-link" title="patients.models.Dataset.upload_csv">upload<wbr></wbr>_csv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is<wbr></wbr>_locked</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="patients.models.html" class="internal-link" title="The parent of this class">models</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.Dataset.html" class="internal-link" title="patients.models.Dataset"><wbr></wbr>Dataset</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.Diagnose.html" class="internal-link" title="patients.models.Diagnose"><wbr></wbr>Diagnose</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.LockedDatasetError.html" class="internal-link" title="patients.models.LockedDatasetError"><wbr></wbr>Locked<wbr></wbr>Dataset<wbr></wbr>Error</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.Patient.html" class="internal-link" title="patients.models.Patient"><wbr></wbr>Patient</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.Tumor.html" class="internal-link" title="patients.models.Tumor"><wbr></wbr>Tumor</a></code>
            </div>
        

    </li>
</ul>

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.html#directory_" class="internal-link" title="patients.models.directory_">directory_</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.html#directory_for_exports" class="internal-link" title="patients.models.directory_for_exports">directory<wbr></wbr>_for<wbr></wbr>_exports</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.html#directory_for_uploads" class="internal-link" title="patients.models.directory_for_uploads">directory<wbr></wbr>_for<wbr></wbr>_uploads</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="patients.models.html#Mod" class="internal-link" title="patients.models.Mod"><wbr></wbr>Mod</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="class"><code><code><a href="patients.html" class="internal-link">patients</a></code><wbr></wbr>.<code><a href="patients.models.html" class="internal-link" title="patients.models">models</a></code><wbr></wbr>.<code><a href="patients.models.Dataset.html" class="internal-link" title="patients.models.Dataset">Dataset</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p><code><span class="py-keyword">class</span> <span class="py-defname">Dataset</span>(<a href="core.loggers.ModelLoggerMixin.html" class="internal-link" title="core.loggers.ModelLoggerMixin">loggers.ModelLoggerMixin</a>, models.Model):</code></p>
          <p><a href="classIndex.html#patients.models.Dataset">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p>This model represents a collection of patients that have been added to the
database together. E.g., via uploading a CSV file where each row represents a
patient. But also patients added via the interface one by one should be associated
to a dataset.</p>
<p>The dataset model's functionality includes an interface between the database and
CSV files. As mentioned, a user should be able to batch-import patients via a
specifically formatted CSV table. But one should also be able to export all
patients of a dataset to a CSV file.</p>
</div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id32">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__str__" class="internal-link" title="patients.models.Dataset.__str__">__str__</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#delete" class="internal-link" title="patients.models.Dataset.delete">delete</a></code></td>
    <td>Block deletion if dataset is locked. Unless the red override is pushed.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#export_db_to_csv" class="internal-link" title="patients.models.Dataset.export_db_to_csv">export<wbr></wbr>_db<wbr></wbr>_to<wbr></wbr>_csv</a></code></td>
    <td>First, call the <code><a href="patients.models.Dataset.html#get_pandas_from_db" class="internal-link" title="patients.models.Dataset.get_pandas_from_db">get_pandas_from_db</a></code> method to get a <code>pandas.DataFrame</code> of patients from the database. Then, save that table in the form of a CSV file to disk and associate it with the <code><a href="patients.fields.FileFieldWithHash.html" class="internal-link" title="patients.fields.FileFieldWithHash">fields.FileFieldWithHash</a></code>...</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_pandas_from_csv" class="internal-link" title="patients.models.Dataset.get_pandas_from_csv">get<wbr></wbr>_pandas<wbr></wbr>_from<wbr></wbr>_csv</a></code></td>
    <td>Simply extract a <code>pandas.DataFrame</code> from an uploaded CSV.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_pandas_from_db" class="internal-link" title="patients.models.Dataset.get_pandas_from_db">get<wbr></wbr>_pandas<wbr></wbr>_from<wbr></wbr>_db</a></code></td>
    <td>Generate a <code>pandas.DataFrame</code> for all patients associated with this dataset using the <code><a href="patients.ioports.html" class="internal-link" title="patients.ioports">ioports</a></code> module and then return that.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#import_upload_csv_to_db" class="internal-link" title="patients.models.Dataset.import_upload_csv_to_db">import<wbr></wbr>_upload<wbr></wbr>_csv<wbr></wbr>_to<wbr></wbr>_db</a></code></td>
    <td>Import an uploaded CSV into the database using the <code><a href="patients.ioports.html" class="internal-link" title="patients.ioports">ioports</a></code> module. Lock the dataset right afterwards to prevent editing the uploaded patients.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#lock" class="internal-link" title="patients.models.Dataset.lock">lock</a></code></td>
    <td>Set the field <code><a href="patients.models.Dataset.html#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is_locked</a></code> to <tt class="rst-docutils literal">True</tt></td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#save" class="internal-link" title="patients.models.Dataset.save">save</a></code></td>
    <td>Add uniqueness checks to save method, as well as blocking any changes when the dataset is locked (and <code>override</code> is not set to <tt class="rst-docutils literal">True</tt>).</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#unlock" class="internal-link" title="patients.models.Dataset.unlock">unlock</a></code></td>
    <td>Set <code><a href="patients.models.Dataset.html#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is_locked</a></code> to <tt class="rst-docutils literal">False</tt>, allowing the dataset and its patients to be edited again.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#validate_unique" class="internal-link" title="patients.models.Dataset.validate_unique">validate<wbr></wbr>_unique</a></code></td>
    <td>Validate uniqueness of the uploaded CSV file.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#create_date" class="internal-link" title="patients.models.Dataset.create_date">create<wbr></wbr>_date</a></code></td>
    <td>Date when the dataset was uploaded.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#description" class="internal-link" title="patients.models.Dataset.description">description</a></code></td>
    <td>A brief description of the dataset.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#export_csv" class="internal-link" title="patients.models.Dataset.export_csv">export<wbr></wbr>_csv</a></code></td>
    <td>The custom <tt class="rst-docutils literal">FileField</tt> that holds the exported CSV file.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#institution" class="internal-link" title="patients.models.Dataset.institution">institution</a></code></td>
    <td>The clinic or research institute that collected and uploaded the patients.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#is_public" class="internal-link" title="patients.models.Dataset.is_public">is<wbr></wbr>_public</a></code></td>
    <td>Should this dataset be visible to non-authenticated users?</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#name" class="internal-link" title="patients.models.Dataset.name">name</a></code></td>
    <td>The name of the dataset. Should not include any dates or the institution.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#repo_data_url" class="internal-link" title="patients.models.Dataset.repo_data_url">repo<wbr></wbr>_data<wbr></wbr>_url</a></code></td>
    <td>(Optional) link to the repository's downloads page for the uploaded data. Note that it is not checked whether the data behind this URL actually matches the uploaded data or not.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#repo_provider" class="internal-link" title="patients.models.Dataset.repo_provider">repo<wbr></wbr>_provider</a></code></td>
    <td>(Optional) name of the repository provider from where the data for the upload came from. This could e.g. be 'GitHub' or 'Zenodo'.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#upload_csv" class="internal-link" title="patients.models.Dataset.upload_csv">upload<wbr></wbr>_csv</a></code></td>
    <td>The custom <tt class="rst-docutils literal">FileField</tt> that holds the uploaded CSV file.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is<wbr></wbr>_locked</a></code></td>
    <td>This indicates that one is done adding patients to this dataset and it should be prohibited to change the dataset or any of its associated entries when this is set to <tt class="rst-docutils literal">True</tt>.</td>
  </tr><tr class="method private">
    
    <td>Method</td>
    <td><code><a href="#_validate_unique" class="internal-link" title="patients.models.Dataset._validate_unique">_validate<wbr></wbr>_unique</a></code></td>
    <td>Make sure no other <code><a href="patients.models.Dataset.html" class="internal-link" title="patients.models.Dataset">Dataset</a></code> holds the same file in one of their <tt class="rst-docutils literal">FileFields</tt> or the uploaded file is already stored on disk.</td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basemethod">
  
  
  <a name="patients.models.Dataset.__str__">
    
  </a>
  <a name="__str__">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">__str__</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p class="undocumented">Undocumented</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Returns</td></tr><tr><td class="fieldArgContainer"><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.delete">
    
  </a>
  <a name="delete">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">delete</span>(self, *args, override=False, **kwargs):
    
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="core.loggers.ModelLoggerMixin.html#delete" class="internal-link">core.loggers.ModelLoggerMixin.delete</a></code></div>
    
    <div><p>Block deletion if dataset is locked. Unless the red override is pushed.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.export_db_to_csv">
    
  </a>
  <a name="export_db_to_csv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">export_db_to_csv</span>(self, is_locked_ok=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>First, call the <code><a href="#get_pandas_from_db" class="internal-link" title="patients.models.Dataset.get_pandas_from_db">get_pandas_from_db</a></code> method to get a <code>pandas.DataFrame</code> of
patients from the database. Then, save that table in the form of a CSV file
to disk and associate it with the <code><a href="patients.fields.FileFieldWithHash.html" class="internal-link" title="patients.fields.FileFieldWithHash">fields.FileFieldWithHash</a></code> called
<code><a href="#export_csv" class="internal-link" title="patients.models.Dataset.export_csv">export_csv</a></code>.</p>
<p>Calling this method will lock the dataset in the end. If it is already locked,
the assignment of the generated file to the field <code><a href="#export_csv" class="internal-link" title="patients.models.Dataset.export_csv">export_csv</a></code> will be blocked
unless <code>is_locked_ok</code> is set to <tt class="rst-docutils literal">True</tt>.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.get_pandas_from_csv">
    
  </a>
  <a name="get_pandas_from_csv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_pandas_from_csv</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Simply extract a <code>pandas.DataFrame</code> from an uploaded CSV.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.get_pandas_from_db">
    
  </a>
  <a name="get_pandas_from_db">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">get_pandas_from_db</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Generate a <code>pandas.DataFrame</code> for all patients associated with this dataset
using the <code><a href="patients.ioports.html" class="internal-link" title="patients.ioports">ioports</a></code> module and then return that.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.import_upload_csv_to_db">
    
  </a>
  <a name="import_upload_csv_to_db">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">import_upload_csv_to_db</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Import an uploaded CSV into the database using the <code><a href="patients.ioports.html" class="internal-link" title="patients.ioports">ioports</a></code> module. Lock the
dataset right afterwards to prevent editing the uploaded patients.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.lock">
    
  </a>
  <a name="lock">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">lock</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Set the field <code><a href="#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is_locked</a></code> to <tt class="rst-docutils literal">True</tt></p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.save">
    
  </a>
  <a name="save">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">save</span>(self, *args, override=False, **kwargs):
    
  </div>
  <div class="docstring functionBody">
    <div class="interfaceinfo">overrides <code><a href="core.loggers.ModelLoggerMixin.html#save" class="internal-link">core.loggers.ModelLoggerMixin.save</a></code></div>
    
    <div><p>Add uniqueness checks to save method, as well as blocking any changes when
the dataset is locked (and <code>override</code> is not set to <tt class="rst-docutils literal">True</tt>).</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.unlock">
    
  </a>
  <a name="unlock">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">unlock</span>(self):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Set <code><a href="#is_locked" class="internal-link" title="patients.models.Dataset.is_locked">is_locked</a></code> to <tt class="rst-docutils literal">False</tt>, allowing the dataset and its patients to be
edited again.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="patients.models.Dataset.validate_unique">
    
  </a>
  <a name="validate_unique">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">validate_unique</span>(self, exclude=None):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Validate uniqueness of the uploaded CSV file.</p>
</div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.create_date">
    
  </a>
  <a name="create_date">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">create_date</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>Date when the dataset was uploaded.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.description">
    
  </a>
  <a name="description">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">description</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>A brief description of the dataset.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.export_csv">
    
  </a>
  <a name="export_csv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">export_csv</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>The custom <tt class="rst-docutils literal">FileField</tt> that holds the exported CSV file.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.institution">
    
  </a>
  <a name="institution">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">institution</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>The clinic or research institute that collected and uploaded the patients.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.is_public">
    
  </a>
  <a name="is_public">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">is_public</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>Should this dataset be visible to non-authenticated users?</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.name">
    
  </a>
  <a name="name">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">name</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>The name of the dataset. Should not include any dates or the institution.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.repo_data_url">
    
  </a>
  <a name="repo_data_url">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">repo_data_url</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>(Optional) link to the repository's downloads page for the uploaded data. Note
that it is not checked whether the data behind this URL actually matches the
uploaded data or not.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.repo_provider">
    
  </a>
  <a name="repo_provider">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">repo_provider</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>(Optional) name of the repository provider from where the data for the upload
came from. This could e.g. be 'GitHub' or 'Zenodo'.</p>
</div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="patients.models.Dataset.upload_csv">
    
  </a>
  <a name="upload_csv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">upload_csv</span> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>The custom <tt class="rst-docutils literal">FileField</tt> that holds the uploaded CSV file.</p>
</div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="patients.models.Dataset.is_locked">
    
  </a>
  <a name="is_locked">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">is_locked</span>: <code>bool</code> =
    
  </div>
  <div class="functionBody">
    
    
    <div><p>This indicates that one is done adding patients to this dataset and it should
be prohibited to change the dataset or any of its associated entries when this is
set to <tt class="rst-docutils literal">True</tt>.</p>
</div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="patients.models.Dataset._validate_unique">
    
  </a>
  <a name="_validate_unique">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-keyword">def</span> <span class="py-defname">_validate_unique</span>(self, fieldname, do_delete=False, do_warn=True, do_raise=True):
    
  </div>
  <div class="docstring functionBody">
    
    
    <div><p>Make sure no other <code><a href="patients.models.Dataset.html" class="internal-link" title="patients.models.Dataset">Dataset</a></code> holds the same file in one of their <tt class="rst-docutils literal">FileFields</tt>
or the uploaded file is already stored on disk.</p>
<p>With the argument <code>do_delete</code> one can control if the file should be deleted
(and with <code>do_warn</code> if that deletion should trigger a warning through the
logger) when a duplicate was found and with <code>do_raise</code> whether a
<code><a href="patients.fields.DuplicateFileError.html" class="internal-link" title="patients.fields.DuplicateFileError">DuplicateFileError</a></code> should ultimately be raised.</p>
<table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">fieldname:</span><code>str</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">do<wbr></wbr>_delete:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">do<wbr></wbr>_warn:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">do<wbr></wbr>_raise:</span><code>bool</code></td><td class="fieldArgDesc"><span class="undocumented">Undocumented</span></td></tr></table></div>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container">
    <a href="index.html">API Documentation</a> for LyProX,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    22.5.1 at 2022-07-05 15:25:35.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>