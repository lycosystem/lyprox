<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>lyprox.dataexplorer.forms.DataexplorerForm</title>
    <meta name="generator" content="pydoctor 25.4.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
    
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          LyProX <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="apidocs-help-button" title="Help" href="apidocs-help.html"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

      <div id="search-results-container" style="display: none;">
        
        <div id="search-buttons">
          <span class="label label-default" id="search-docstrings-button">
          <label class="checkbox-inline">
            <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
              search in docstrings
            </input>
          </label>
          </span>
          
        </div>
        
        <noscript>
            <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
        </noscript>

        <div id="search-status"> </div>

        <div class="warning" id="search-warn-box" style="display: none;">
          <p class="rst-last"><span id="search-warn"></span></p>
        </div>

        <table id="search-results">
          <!-- Filled dynamically by JS -->
        </table>
        
        <div style="margin-top: 10px;">
          <p>For more information on the search, visit the <a href="apidocs-help.html#rst-search">help page</a>.</p>
        </div>
      </div>

    </div>


  </div>
</nav>
    
    <div class="container-fluid">

      <!-- Side navigation -->
      <div class="sidebarcontainer" style="display: none;">
        
        <div class="sidebar"><nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="lyprox.dataexplorer.forms.DataexplorerForm.html" class="internal-link" title="This class"><wbr></wbr>Dataexplorer<wbr></wbr>Form</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#from_initial" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.from_initial">from<wbr></wbr>_initial</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#generate_icd_codes" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.generate_icd_codes">generate<wbr></wbr>_icd<wbr></wbr>_codes</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__init__" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.__init__">__init__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#add_lnl_toggle_buttons" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_lnl_toggle_buttons">add<wbr></wbr>_lnl<wbr></wbr>_toggle<wbr></wbr>_buttons</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#add_subsite_choice_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">add<wbr></wbr>_subsite<wbr></wbr>_choice<wbr></wbr>_fields</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#check_lnl_conflicts" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.check_lnl_conflicts">check<wbr></wbr>_lnl<wbr></wbr>_conflicts</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#clean" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.clean">clean</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_subsite_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.get_subsite_fields">get<wbr></wbr>_subsite<wbr></wbr>_fields</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#update_dataset_options" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">update<wbr></wbr>_dataset<wbr></wbr>_options</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#central" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.central">central</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#datasets" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.datasets">datasets</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#hpv" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.hpv">hpv</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#is_n_plus" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.is_n_plus">is<wbr></wbr>_n<wbr></wbr>_plus</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#midext" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.midext">midext</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#modalities" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.modalities">modalities</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#modality_combine" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.modality_combine">modality<wbr></wbr>_combine</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#show_percent" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.show_percent">show<wbr></wbr>_percent</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#smoke" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.smoke">smoke</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#surgery" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.surgery">surgery</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#t_stage" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.t_stage">t<wbr></wbr>_stage</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="lyprox.dataexplorer.forms.html" class="internal-link" title="The parent of this class">forms</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.DataexplorerForm.html" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm"><wbr></wbr>Dataexplorer<wbr></wbr>Form</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.EasySubsiteChoiceField.html" class="internal-link" title="lyprox.dataexplorer.forms.EasySubsiteChoiceField"><wbr></wbr>Easy<wbr></wbr>Subsite<wbr></wbr>Choice<wbr></wbr>Field</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.ThreeWayToggle.html" class="internal-link" title="lyprox.dataexplorer.forms.ThreeWayToggle"><wbr></wbr>Three<wbr></wbr>Way<wbr></wbr>Toggle</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.ThreeWayToggleWidget.html" class="internal-link" title="lyprox.dataexplorer.forms.ThreeWayToggleWidget"><wbr></wbr>Three<wbr></wbr>Way<wbr></wbr>Toggle<wbr></wbr>Widget</a></code>
            </div>
        

    </li>
</ul>

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#format_dataset_choices" class="internal-link" title="lyprox.dataexplorer.forms.format_dataset_choices">format<wbr></wbr>_dataset<wbr></wbr>_choices</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#get_modality_choices" class="internal-link" title="lyprox.dataexplorer.forms.get_modality_choices">get<wbr></wbr>_modality<wbr></wbr>_choices</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#trio_to_bool" class="internal-link" title="lyprox.dataexplorer.forms.trio_to_bool">trio<wbr></wbr>_to<wbr></wbr>_bool</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#T" class="internal-link" title="lyprox.dataexplorer.forms.T">T</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#checkbox_attrs" class="internal-link" title="lyprox.dataexplorer.forms.checkbox_attrs">checkbox<wbr></wbr>_attrs</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="lyprox.dataexplorer.forms.html#logger" class="internal-link" title="lyprox.dataexplorer.forms.logger">logger</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        </div>
        <div id="collapseSideBar">
          <a class="btn btn-link" onclick="toggleSideBarCollapse()" title="Toggle Sidebar Collapse">
          </a>
        </div> 
        <script src="sidebartoggle.js" type="text/javascript"></script>
       
      </div>

      <div id="main" class="">
        

        

        <div class="page-header">
          <h1 class="class"><code><code><a href="index.html" class="internal-link">lyprox</a></code><wbr></wbr>.<code><a href="lyprox.dataexplorer.html" class="internal-link" title="lyprox.dataexplorer">dataexplorer</a></code><wbr></wbr>.<code><a href="lyprox.dataexplorer.forms.html" class="internal-link" title="lyprox.dataexplorer.forms">forms</a></code><wbr></wbr>.<code><a href="lyprox.dataexplorer.forms.DataexplorerForm.html" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm">DataexplorerForm</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p class="class-signature"><code><span class="py-keyword">class</span> <span class="py-defname">DataexplorerForm</span>(<a href="lyprox.loggers.FormLoggerMixin.html" class="internal-link" title="lyprox.loggers.FormLoggerMixin">FormLoggerMixin</a>, <a href="http://docs.djangoproject.com/en/4.2/ref/forms/api/#django.forms.Form" class="intersphinx-link">forms.Form</a>):</code></p><p>Constructor: <code><a href="#__init__" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.__init__">DataexplorerForm(*args, user, **kwargs)</a></code></p>
          <p><a href="classIndex.html#lyprox.dataexplorer.forms.DataexplorerForm">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p>Form for querying the database.</p>
<p>It is supposed to be called with the GET or POST data to be cleaned as the first
argument. The <tt class="rst-docutils rst-literal">user</tt> argument is necessary to determine which datasets the user
may or may not have access to. If the user isn't logged in, the form will use the
<code><a href="#update_dataset_options" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">update_dataset_options</a></code> method to only show public datasets.</p>
<p>Via <code><a href="#add_subsite_choice_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">add_subsite_choice_fields</a></code> and <code><a href="#add_lnl_toggle_buttons" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_lnl_toggle_buttons">add_lnl_toggle_buttons</a></code>, the form is
dynamically extended with the buttons and selection for subsites and LNLs. Beyond
that, all fields mirror the fields in the <code><a href="lyprox.dataexplorer.query.html#Statistics" class="internal-link" title="lyprox.dataexplorer.query.Statistics">Statistics</a></code> class in the <code><a href="lyprox.dataexplorer.query.html" class="internal-link" title="lyprox.dataexplorer.query">query</a></code> module
pretty closely.</p>
<p>The form class also has the classmethod <code><a href="#from_initial" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.from_initial">from_initial</a></code>, which creates a bound
form from the initial field data. This is useful as the form isn't used like a
typical Django form that is rendered empty and unbound, waiting for user input.
Instead, the form is always bound (either with the initial data or with the user's
input), validated, and only then rendered.</p>
</div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id35">
  
  
  <tr class="classmethod">
    
    <td>Class Method</td>
    <td><code><a href="#from_initial" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.from_initial">from<wbr></wbr>_initial</a></code></td>
    <td>Return a bound form filled with the default values for each field.</td>
  </tr><tr class="staticmethod">
    
    <td>Static Method</td>
    <td><code><a href="#generate_icd_codes" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.generate_icd_codes">generate<wbr></wbr>_icd<wbr></wbr>_codes</a></code></td>
    <td>Generate all subsite ICD codes from the <tt class="rst-docutils rst-literal">cleaned_data</tt>.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.__init__">__init__</a></code></td>
    <td>Extend default initialization.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_lnl_toggle_buttons" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_lnl_toggle_buttons">add<wbr></wbr>_lnl<wbr></wbr>_toggle<wbr></wbr>_buttons</a></code></td>
    <td>Add all LNL toggle buttons to the form.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#add_subsite_choice_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">add<wbr></wbr>_subsite<wbr></wbr>_choice<wbr></wbr>_fields</a></code></td>
    <td>Add all <code><a href="lyprox.dataexplorer.subsites.Subsites.html" class="internal-link" title="lyprox.dataexplorer.subsites.Subsites">Subsites</a></code> choice fields to the form.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#check_lnl_conflicts" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.check_lnl_conflicts">check<wbr></wbr>_lnl<wbr></wbr>_conflicts</a></code></td>
    <td>Ensure that LNLs I, II, and V are not in conflict with their sublevels.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#clean" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.clean">clean</a></code></td>
    <td>Clean the form data.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#get_subsite_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.get_subsite_fields">get<wbr></wbr>_subsite<wbr></wbr>_fields</a></code></td>
    <td>Return the names of the subsite checkboxes.</td>
  </tr><tr class="method">
    
    <td>Method</td>
    <td><code><a href="#update_dataset_options" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">update<wbr></wbr>_dataset<wbr></wbr>_options</a></code></td>
    <td>Update the <code><a href="lyprox.dataexplorer.models.DatasetModel.html" class="internal-link" title="lyprox.dataexplorer.models.DatasetModel">DatasetModel</a></code> choices based on the <tt class="rst-docutils rst-literal">user</tt>'s permissions.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#central" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.central">central</a></code></td>
    <td>Filter by whether the tumor is central or not.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#datasets" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.datasets">datasets</a></code></td>
    <td>Patients from which datasets to include in the query.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#hpv" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.hpv">hpv</a></code></td>
    <td>Select patients that are HPV positive, negative, or unknown.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#is_n_plus" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.is_n_plus">is<wbr></wbr>_n<wbr></wbr>_plus</a></code></td>
    <td>Select patients with N+ or N0 status.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#midext" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.midext">midext</a></code></td>
    <td>Filter by whether the tumor crosses the mid-sagittal plane.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#modalities" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.modalities">modalities</a></code></td>
    <td>Which modalities to combine into a consensus diagnosis.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#modality_combine" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.modality_combine">modality<wbr></wbr>_combine</a></code></td>
    <td>Method to use to combine the modalities' LNL involvement diagnoses.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#show_percent" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.show_percent">show<wbr></wbr>_percent</a></code></td>
    <td>Show the statistics after querying as percentages or absolute numbers.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#smoke" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.smoke">smoke</a></code></td>
    <td>Select patients that are smokers, non-smokers, or unknown.</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#surgery" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.surgery">surgery</a></code></td>
    <td>Did the patient undergo neck dissection?</td>
  </tr><tr class="classvariable">
    
    <td>Class Variable</td>
    <td><code><a href="#t_stage" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.t_stage">t<wbr></wbr>_stage</a></code></td>
    <td>Only include patients with the selected T-stages.</td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="baseclassmethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.from_initial">
    
  </a>
  <a name="from_initial">
    
  </a>
  <div class="functionHeader">
    
    <div><span class="decorator">@classmethod<br /></span></div>
    <span class="py-keyword">def</span>&#160;<span class="py-defname">from_initial</span><span class="function-signature">(<span class="rst-sig-param">cls: <code>type[<wbr></wbr><a href="lyprox.dataexplorer.forms.html#T" class="internal-link" title="lyprox.dataexplorer.forms.T">T</a>]</code>, </span><span class="rst-sig-param">user</span>) -&gt; <code><a href="lyprox.dataexplorer.forms.html#T" class="internal-link" title="lyprox.dataexplorer.forms.T">T</a></code>:</span>
    
    <a class="headerLink" href="#from_initial" title="lyprox.dataexplorer.forms.DataexplorerForm.from_initial">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return a bound form filled with the default values for each field.</p>
<p>This uses the <code><a href="lyprox.utils.html#form_from_initial" class="internal-link" title="lyprox.utils.form_from_initial">form_from_initial</a></code> helper function to create the form with the
initial data. This helper function is also used at other places in the code
to create forms filled with initial data.</p>
</div>
  </div>
</div><div class="basestaticmethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.generate_icd_codes">
    
  </a>
  <a name="generate_icd_codes">
    
  </a>
  <div class="functionHeader">
    
    <div><span class="decorator">@staticmethod<br /></span></div>
    <span class="py-keyword">def</span>&#160;<span class="py-defname">generate_icd_codes</span><span class="function-signature">(<span class="rst-sig-param">cleaned_data: <code>dict[<wbr></wbr>str, <wbr></wbr>Any]</code></span>) -&gt; <code>Generator[<wbr></wbr>str, <wbr></wbr>None, <wbr></wbr>None]</code>:</span>
    
    <a class="headerLink" href="#generate_icd_codes" title="lyprox.dataexplorer.forms.DataexplorerForm.generate_icd_codes">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Generate all subsite ICD codes from the <tt class="rst-docutils rst-literal">cleaned_data</tt>.</p>
<p>In the <tt class="rst-docutils rst-literal">cleaned_data</tt> up to this point, the ICD codes are still grouped by
<code><a href="lyprox.dataexplorer.subsites.Subsites.html" class="internal-link" title="lyprox.dataexplorer.subsites.Subsites">Subsites</a></code>. E.g., there would be a key <tt class="rst-docutils rst-literal">subsite_larynx</tt> in the
<tt class="rst-docutils rst-literal">cleaned_data</tt> with a list of selected ICD codes as value. This method
extracts and concatenates all these lists of selected ICD codes into a single
generator of selected ICD codes.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">__init__</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span>, </span><span class="rst-sig-param">*args, </span><span class="rst-sig-param">user, </span><span class="rst-sig-param">**kwargs</span>):</span>
    
    <a class="headerLink" href="#__init__" title="lyprox.dataexplorer.forms.DataexplorerForm.__init__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Extend default initialization.</p>
<p>After calling the parent constructor, the selectable datasets are populated
based on the user's permissions. I.e., a logged-in user can see private
datasets, while an anonymous user can only see public datasets. This is handled
by the <code><a href="#update_dataset_options" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">update_dataset_options</a></code> method.</p>
<p>Then, the defined <code><a href="lyprox.dataexplorer.subsites.Subsites.html" class="internal-link" title="lyprox.dataexplorer.subsites.Subsites">Subsites</a></code> as separate <code><a href="lyprox.dataexplorer.forms.EasySubsiteChoiceField.html" class="internal-link" title="lyprox.dataexplorer.forms.EasySubsiteChoiceField">EasySubsiteChoiceField</a></code> fields are
added to the form. We do this dynamically via the <code><a href="#add_subsite_choice_fields" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">add_subsite_choice_fields</a></code>
method, because we want to render the subsites separately in the frontend.</p>
<p>Also, the LNL toggle buttons are added to the form dynamically, because it
would be cumbersome to add them manually for each LNL and side.</p>
<p>Note that the form contains the user input or initial values already upon
initialization. But it is OK to add fields even after that, because the form
only goes through its fields and tries to validate its data for each of then
when <tt class="rst-docutils rst-literal">form.is_valid()</tt> is called.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.add_lnl_toggle_buttons">
    
  </a>
  <a name="add_lnl_toggle_buttons">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">add_lnl_toggle_buttons</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span></span>):</span>
    
    <a class="headerLink" href="#add_lnl_toggle_buttons" title="lyprox.dataexplorer.forms.DataexplorerForm.add_lnl_toggle_buttons">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Add all LNL toggle buttons to the form.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">
    
  </a>
  <a name="add_subsite_choice_fields">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">add_subsite_choice_fields</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span></span>):</span>
    
    <a class="headerLink" href="#add_subsite_choice_fields" title="lyprox.dataexplorer.forms.DataexplorerForm.add_subsite_choice_fields">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Add all <code><a href="lyprox.dataexplorer.subsites.Subsites.html" class="internal-link" title="lyprox.dataexplorer.subsites.Subsites">Subsites</a></code> choice fields to the form.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.check_lnl_conflicts">
    
  </a>
  <a name="check_lnl_conflicts">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">check_lnl_conflicts</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span>, </span><span class="rst-sig-param">cleaned_data: <code>dict[<wbr></wbr>str, <wbr></wbr>Any]</code></span>) -&gt; <code>dict[<wbr></wbr>str, <wbr></wbr>Any]</code>:</span>
    
    <a class="headerLink" href="#check_lnl_conflicts" title="lyprox.dataexplorer.forms.DataexplorerForm.check_lnl_conflicts">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Ensure that LNLs I, II, and V are not in conflict with their sublevels.</p>
<p>This is already handled in the frontend using JavaScript, but it is technically
possible to e.g. provide a GET request with the URL parameters that would
still violate the sub- and superlevel constraints.</p>
<p>One example would be that the superlevel II is selected to be healthy, but
sublevel IIa is selected to be involved. That's a violation, because by
definition, superlevel II is involved as soon as one of the sublevels harbors
disease.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.clean">
    
  </a>
  <a name="clean">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">clean</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span></span>) -&gt; <code>dict[<wbr></wbr>str, <wbr></wbr>Any]</code>:</span>
    
    <a class="headerLink" href="#clean" title="lyprox.dataexplorer.forms.DataexplorerForm.clean">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Clean the form data.</p>
<p>The default cleaning provided by Django is extended to deal with some special
cases that arise from our data. On the one hand, this involved casting the
<tt class="rst-docutils rst-literal">t_stage</tt> list of values to integers, but more importantly, it also ensures
that the sub- and superlevel involvement of the LNLs I, II, and V are not in
conflict.</p>
<p>Further, it extracts a list of ICD codes from the subsite checkboxes via the
<code><a href="#generate_icd_codes" class="internal-link" title="lyprox.dataexplorer.forms.DataexplorerForm.generate_icd_codes">generate_icd_codes</a></code> method.</p>
</div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.get_subsite_fields">
    
  </a>
  <a name="get_subsite_fields">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">get_subsite_fields</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span></span>) -&gt; <code>list[<wbr></wbr>str]</code>:</span>
    
    <a class="headerLink" href="#get_subsite_fields" title="lyprox.dataexplorer.forms.DataexplorerForm.get_subsite_fields">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Return the names of the subsite checkboxes.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">
    
  </a>
  <a name="update_dataset_options">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span>&#160;<span class="py-defname">update_dataset_options</span><span class="function-signature">(<span class="rst-sig-param"><span class="rst-undocumented">self</span>, </span><span class="rst-sig-param">user</span>):</span>
    
    <a class="headerLink" href="#update_dataset_options" title="lyprox.dataexplorer.forms.DataexplorerForm.update_dataset_options">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Update the <code><a href="lyprox.dataexplorer.models.DatasetModel.html" class="internal-link" title="lyprox.dataexplorer.models.DatasetModel">DatasetModel</a></code> choices based on the <tt class="rst-docutils rst-literal">user</tt>'s permissions.</p></div>
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.central">
    
  </a>
  <a name="central">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">central</span> =
    
    <a class="headerLink" href="#central" title="lyprox.dataexplorer.forms.DataexplorerForm.central">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Filter by whether the tumor is central or not.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.datasets">
    
  </a>
  <a name="datasets">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">datasets</span> =
    
    <a class="headerLink" href="#datasets" title="lyprox.dataexplorer.forms.DataexplorerForm.datasets">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Patients from which datasets to include in the query.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.hpv">
    
  </a>
  <a name="hpv">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">hpv</span> =
    
    <a class="headerLink" href="#hpv" title="lyprox.dataexplorer.forms.DataexplorerForm.hpv">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Select patients that are HPV positive, negative, or unknown.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.is_n_plus">
    
  </a>
  <a name="is_n_plus">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">is_n_plus</span> =
    
    <a class="headerLink" href="#is_n_plus" title="lyprox.dataexplorer.forms.DataexplorerForm.is_n_plus">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Select patients with N+ or N0 status.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.midext">
    
  </a>
  <a name="midext">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">midext</span> =
    
    <a class="headerLink" href="#midext" title="lyprox.dataexplorer.forms.DataexplorerForm.midext">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Filter by whether the tumor crosses the mid-sagittal plane.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.modalities">
    
  </a>
  <a name="modalities">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">modalities</span> =
    
    <a class="headerLink" href="#modalities" title="lyprox.dataexplorer.forms.DataexplorerForm.modalities">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Which modalities to combine into a consensus diagnosis.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.modality_combine">
    
  </a>
  <a name="modality_combine">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">modality_combine</span> =
    
    <a class="headerLink" href="#modality_combine" title="lyprox.dataexplorer.forms.DataexplorerForm.modality_combine">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Method to use to combine the modalities' LNL involvement diagnoses.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.show_percent">
    
  </a>
  <a name="show_percent">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">show_percent</span> =
    
    <a class="headerLink" href="#show_percent" title="lyprox.dataexplorer.forms.DataexplorerForm.show_percent">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Show the statistics after querying as percentages or absolute numbers.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.smoke">
    
  </a>
  <a name="smoke">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">smoke</span> =
    
    <a class="headerLink" href="#smoke" title="lyprox.dataexplorer.forms.DataexplorerForm.smoke">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Select patients that are smokers, non-smokers, or unknown.</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.surgery">
    
  </a>
  <a name="surgery">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">surgery</span> =
    
    <a class="headerLink" href="#surgery" title="lyprox.dataexplorer.forms.DataexplorerForm.surgery">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Did the patient undergo neck dissection?</p></div>
    
  </div>
</div><div class="baseclassvariable">
  
  
  <a name="lyprox.dataexplorer.forms.DataexplorerForm.t_stage">
    
  </a>
  <a name="t_stage">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">t_stage</span> =
    
    <a class="headerLink" href="#t_stage" title="lyprox.dataexplorer.forms.DataexplorerForm.t_stage">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Only include patients with the selected T-stages.</p></div>
    
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">

  
  <div class="container-fluid">
    <a href="index.html">API Documentation</a> for LyProX,
  generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
    25.4.0 at 2025-06-10 14:35:31.
  </div>

  <!-- Search related scripts needs to be loaded at the end of HTML 
    parsing not to introduce overhead and display HTML data asap -->
  <script src="ajax.js" type="text/javascript"></script>
  <script src="searchlib.js" type="text/javascript"></script>
  <script src="search.js" type="text/javascript"></script>

</footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>